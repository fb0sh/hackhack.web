import{i as K,a as v}from"./nighttime-DdRxDGUb.js";import{d as Q,u as X,r as u,o as Y,a as R,c as U,b as l,w as a,i as s,F as Z,e as d,f as m,j as L,k as S,t as o,g as _}from"./index-C93vmx7p.js";const ee=["onClick"],te={class:"text-black no-underline"},le={class:"text-yellow-600 no-underline"},ae={class:"text-red no-underline"},ne=s("h2",null," Who pwned this target ? ",-1),oe={key:0,class:"ml-30"},se=s("br",null,null,-1),de={key:1,class:"ml-30 text-red"},ie=s("br",null,null,-1),ue={class:"text-h4 font-weight-black text-blue-600 hover:text-black no-underline"},re={class:"mt-5 text-black no-underline"},ce={class:"flex mt-2"},ve={class:"text-yellow-600 no-underline"},me={class:"ml-5 text-red no-underline"},_e={class:"ml-10 mt-5 text-medium-emphasis"},pe={class:"flex m-2"},ge={class:"flex m-2"},he={class:"text-center ma-2"},ye=Q({__name:"panel",setup(fe){const k=X(),r=u({}),p=u(0),b=u(""),x=u("user@example.com"),T=u(0),g=u(!1),y=u(""),B=u([]),w=u(""),C=u(""),N=n=>{let t;n=="user"?t=w.value:t=C.value,v.post("/target/submit",{flag:t,flag_type:n,target_name:r.value.name}).then(i=>{y.value=i.data,g.value=!0})};let F=[{title:"Name",key:"name"},{title:"Type",key:"typ"},{title:"Level",key:"level"},{title:"Pwned",key:"pwned"}],O=u([]);const j=()=>{localStorage.removeItem("token"),R.go(0)},P=()=>{console.log("Downloading vpn"),v.get("/auth/vpn").then(n=>{const t=new Blob([n.data],{type:n.headers["content-type"]}),i=window.URL.createObjectURL(t),c=document.createElement("a");c.href=i,c.download=x.value.replace("@","_").replace(".","_")+".ovpn",document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(i)})},z=()=>{k.global.name.value=k.global.current.value.dark?"light":"dark"},D=n=>{p.value=2,v.get(`/target/get/${n}`).then(t=>{r.value=t.data})},E=n=>{navigator.clipboard.writeText(n),y.value=`${n} copied`,g.value=!0};return Y(()=>{K()&&(k.global.name.value="dark"),v.post("/auth/test_login").then(n=>{n.data?(x.value=n.data.email,T.value=n.data.score):R.push("/")}),v.get("/target/all").then(n=>{O.value=n.data}),v.get("/target/log").then(n=>{B.value=n.data})}),(n,t)=>{const i=d("v-list-item"),c=d("v-list"),I=d("v-divider"),M=d("v-navigation-drawer"),V=d("v-text-field"),W=d("v-data-table"),h=d("v-card"),$=d("v-main"),q=d("v-virtual-scroll"),A=d("v-card-text"),f=d("v-btn"),G=d("v-card-actions"),H=d("v-layout"),J=d("v-snackbar");return m(),U(Z,null,[l(h,null,{default:a(()=>[l(H,null,{default:a(()=>[l(M,null,{default:a(()=>[l(c,null,{default:a(()=>[l(i,{title:x.value},null,8,["title"]),l(i,{title:T.value},null,8,["title"])]),_:1}),l(I),l(c,{density:"compact",nav:""},{default:a(()=>[l(i,{"prepend-icon":"mdi mdi-bullseye-arrow",title:"Targets",onClick:t[0]||(t[0]=e=>p.value=0)}),l(i,{"prepend-icon":"mdi mdi-billboard",title:"Billboard",onClick:t[1]||(t[1]=e=>p.value=1)}),l(i,{"prepend-icon":"mdi mdi-theme-light-dark",title:"Change Theme",onClick:t[2]||(t[2]=e=>z())}),l(i,{"prepend-icon":"mdi mdi-progress-download",title:"OpenVPN",onClickOnce:t[3]||(t[3]=e=>P())}),l(i,{"prepend-icon":"mdi mdi-logout",title:"Logout",onClickOnce:t[4]||(t[4]=e=>j())})]),_:1})]),_:1}),p.value==0?(m(),L($,{key:0},{default:a(()=>[l(h,{flat:""},{text:a(()=>[l(V,{modelValue:b.value,"onUpdate:modelValue":t[5]||(t[5]=e=>b.value=e),label:"Search","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"])]),default:a(()=>[l(W,{class:"h-90vh",headers:S(F),items:S(O),search:b.value},{"item.name":a(({value:e})=>[s("h2",{onClick:ke=>D(e),class:"text-blue-600 hover:text-black no-underline"},o(e),9,ee)]),"item.typ":a(({value:e})=>[s("h2",te,o(e),1)]),"item.level":a(({value:e})=>[s("h3",le,o(e),1)]),"item.pwned":a(({value:e})=>[s("h1",ae,o(e),1)]),_:1},8,["headers","items","search"])]),_:1})]),_:1})):p.value==1?(m(),L($,{key:1},{default:a(()=>[l(h,{flat:""},{text:a(()=>[ne]),default:a(()=>[l(q,{class:"h-95vh",items:B.value},{default:a(({item:e})=>[e.flag_type=="user"?(m(),U("h3",oe,[_(o(e.created_at)+"......... "+o(e.email)+" has got the "+o(e.flag_type)+" from "+o(e.target_name)+" ",1),se])):(m(),U("h3",de,[_(o(e.created_at)+"......... "+o(e.email)+" has got the "+o(e.flag_type)+" from "+o(e.target_name)+" ",1),ie]))]),_:1},8,["items"])]),_:1})]),_:1})):(m(),L($,{key:2},{default:a(()=>[l(h,{class:"ml-4 h-100vh"},{default:a(()=>[l(A,null,{default:a(()=>[s("div",null,[s("p",ue,o(r.value.name),1),s("h3",re,"Type: "+o(r.value.typ),1),s("div",ce,[s("h3",ve,"Level: "+o(r.value.level),1),s("h3",me,"Pwned: "+o(r.value.pwned),1)])]),s("div",_e,o(r.value.description),1)]),_:1}),l(G,null,{default:a(()=>[l(f,{onClick:t[6]||(t[6]=e=>E(r.value.ip)),color:"deep-purple-accent-4",text:r.value.ip,variant:"text"},null,8,["text"])]),_:1}),s("div",pe,[l(V,{label:"User Flag",modelValue:w.value,"onUpdate:modelValue":t[7]||(t[7]=e=>w.value=e),"max-width":"400"},null,8,["modelValue"]),l(f,{class:"ml-5",rounded:"xl",size:"large",onClick:t[8]||(t[8]=e=>N("user"))},{default:a(()=>[_("Submit ")]),_:1})]),s("div",ge,[l(V,{label:"Root Flag",modelValue:C.value,"onUpdate:modelValue":t[9]||(t[9]=e=>C.value=e),"max-width":"400"},null,8,["modelValue"]),l(f,{class:"ml-5",rounded:"xl",size:"large",onClick:t[10]||(t[10]=e=>N("root"))},{default:a(()=>[_("Submit ")]),_:1})])]),_:1})]),_:1}))]),_:1})]),_:1}),s("div",he,[l(J,{modelValue:g.value,"onUpdate:modelValue":t[12]||(t[12]=e=>g.value=e)},{actions:a(()=>[l(f,{color:"pink",variant:"text",onClick:t[11]||(t[11]=e=>g.value=!1)},{default:a(()=>[_(" Close ")]),_:1})]),default:a(()=>[_(o(y.value)+" ",1)]),_:1},8,["modelValue"])])],64)}}});export{ye as default};
